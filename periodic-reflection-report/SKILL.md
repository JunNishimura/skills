---
name: periodic-reflection-report
description: Generate a reflection report for a user-specified time period using daily reflection records in Notion; summarize experiences, themes, growth, and check execution of proactive experiments, then optionally save to Notion via MCP.
---

# 定期振り返りレポート作成スキル

## 概要

このスキルは、ユーザーが Notion 上で行った日々の振り返り記録をもとに、指定された期間の振り返りレポートを生成するものである。

レポートは以下の要素を含む。

- 期間中の主な経験の要約
- 繰り返し現れたテーマやパターンの特定
- ユーザーの成長や学びのハイライト
- 能動的実験の実行確認

また、生成されたレポートを MCP を通じて Notion に保存する。

## 基本方針

- 振り返りレポートはユーザーの自己理解と成長を促進するものである
- ユーザーの振り返り内容を尊重し、客観的かつ建設的にまとめる
- 日々の振り返りで挙がった能動的実験の実行状況を、具体的に確認できる形で示す
- レポートは明確で読みやすい形式で提供する

## 注意点

- ユーザーの振り返り内容を評価・採点しない
- 正解・不正解を決めない

## フェーズ構成

以下のフェーズを一つずつ順に実行する。

### フェーズ1: 期間の確定

このフェーズでは、ユーザーに振り返りレポートを生成する対象期間を尋ねる。
ユーザーが具体的な日付範囲を指定できるよう促す。

### フェーズ2: 振り返りデータの収集

このフェーズでは、指定された期間内のユーザーの Notion 上の日々の振り返り記録を収集する。
必要に応じて、Notion MCP を使用してデータを取得する。

#### 条件

- ユーザーが Notion MCP を設定していること
- 指定された期間内に振り返り記録が存在すること
- Database のURLは環境変数 `DAILY_REFLECTION_DB_URL` に保存されていること
- データを取得する際の検索条件は、DBの「日付」プロパティを使用し、指定された期間内のレコードをフィルタリングすること

### フェーズ3: 経験の要約

このフェーズでは、収集した振り返りデータから、期間中の主な経験を要約する。
新しい経験や予想外な経験の有無を確認し、ユーザーが新しい挑戦や新しい状況に直面したかどうかを明らかにする。

### フェーズ4: テーマとパターンの特定

このフェーズでは、振り返りデータを分析し、繰り返し現れたテーマやパターンを特定する。
ユーザーの行動や感情の傾向を把握し、重要なポイントを明らかにする。

### フェーズ5: 成長と学びのハイライト

このフェーズでは、ユーザーの振り返り内容から成長や学びのハイライトを抽出する。
ユーザーがどのように変化し、何を学んだかを明確に示す。

### フェーズ6: 能動的実験の実行確認

このフェーズでは、日々の振り返りで挙がった能動的実験をいくつかピックアップし、
期間内に実行へ移せているかを確認する。

実行確認は、ユーザーが能動的に確認できるようチェックボックス形式で記述する。

### フェーズ7: レポートの生成

このフェーズでは、前のフェーズで得られた情報をもとに、振り返りレポートを生成する。
レポートは以下のセクションで構成される。

- 期間中の主な経験の要約
- 繰り返し現れたテーマやパターンの特定
- ユーザーの成長や学びのハイライト
- 能動的実験の実行確認
- 総括

総括以外の各セクションは、箇条書き形式で提供する。  
ただし「能動的実験の実行確認」セクションはチェックボックス形式（`- [ ]` / `- [x]`）で提供する。  
必要に応じて階層構造を用いて関連する内容を整理し、ユーザーが理解しやすいようにする。

### フェーズ8: Notion への保存

このフェーズでは、生成された振り返りレポートを Notion の指定されたページ配下に新しいページとして保存する。

#### 条件

- ユーザーは Notion MCP を設定している
- レポートは Markdown 形式で保存される
- タイトルは「振り返りレポート: YYYY年MM月DD日 - YYYY年MM月DD日」の形式とする
- 親となるページの ページID は環境変数 `PERIODIC_REFLECTION_PAGE_ID` に格納されている
- Notion Database への書き込み時には、parentはオブジェクト形式で指定する
